<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Running the Atlas model (Multiple Design Points) &mdash; Atlas 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Atlas 0.1 documentation" href="index.html" />
    <link rel="next" title="Source Documentation" href="srcdocs.html" />
    <link rel="prev" title="Running the Atlas model (Single Design Point)" href="running.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="srcdocs.html" title="Source Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="running.html" title="Running the Atlas model (Single Design Point)"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Atlas 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="running-the-atlas-model-multiple-design-points">
<h1>Running the Atlas model (Multiple Design Points)<a class="headerlink" href="#running-the-atlas-model-multiple-design-points" title="Permalink to this headline">Â¶</a></h1>
<p>The multi-point optimization of Atlas distributes the optimization across
4 design points. Each of these points represents a different operating condition
for the vehicle:</p>
<ol class="arabic simple">
<li>Low altitude point</li>
<li>High altitude point</li>
<li>Wind point</li>
<li>Gravity point</li>
</ol>
<p>Each of these design points is represented by a separate AeroStructural assembly
instance, each with an AtlasConfiguration component with settings to represent
the differences between the design points.</p>
<p>First, for the low altitude design point:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ConfigLow</span><span class="p">(</span><span class="n">AtlasConfiguration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Atlas configuration for low altitude &quot;&quot;&quot;</span>

    <span class="n">Omega_opt</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;rotor angular velocity&#39;</span><span class="p">)</span>

    <span class="n">H_opt</span>     <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;height of aircraft&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ConfigLow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

        <span class="c"># use optimizer provided values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Omega</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Omega_opt</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">h</span>     <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_opt</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">zWire</span>


<span class="k">class</span> <span class="nc">AeroStructuralLow</span><span class="p">(</span><span class="n">AeroStructural</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; AeroStructural assembly for low altitude case in multipoint optimization &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AeroStructuralLow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>

        <span class="c"># replace config with optimizer driven config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;config&#39;</span><span class="p">,</span> <span class="n">ConfigLow</span><span class="p">())</span>

        <span class="c"># create passthroughs for variables used by the optimizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.Omega_opt&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.H_opt&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;struc.Mtot&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;results.Ttot&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;results.Ptot&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, the high-altitude design point:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ConfigHigh</span><span class="p">(</span><span class="n">AtlasConfiguration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Atlas configuration for high altitude &quot;&quot;&quot;</span>

    <span class="n">Omega_opt</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;rotor angular velocity&#39;</span><span class="p">)</span>

    <span class="n">Cl0_opt</span>   <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>
    <span class="n">Cl1_opt</span>   <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="n">H_opt</span>     <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;height of aircraft&#39;</span><span class="p">)</span>

    <span class="n">TWire_opt</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ConfigHigh</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

        <span class="c"># use optimizer provided values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Omega</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Omega_opt</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Cl</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Cl0_opt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Cl</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Cl1_opt</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_opt</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">zWire</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">TWire</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">TWire_opt</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">AeroStructuralHigh</span><span class="p">(</span><span class="n">AeroStructural</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; AeroStructural assembly for high altitude case in multipoint optimization &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AeroStructuralHigh</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>

        <span class="c"># replace config with optimizer driven config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;config&#39;</span><span class="p">,</span> <span class="n">ConfigHigh</span><span class="p">())</span>

        <span class="c"># create passthroughs for variables used by the optimizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.Omega_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.Cl0_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.Cl1_opt&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.H_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.TWire_opt&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;struc.Mtot&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;results.Ttot&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;results.Ptot&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then the wind design point:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ConfigWind</span><span class="p">(</span><span class="n">AtlasConfiguration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Atlas configuration for wind case &quot;&quot;&quot;</span>

    <span class="n">Omega_opt</span>  <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;rotor angular velocity&#39;</span><span class="p">)</span>
    <span class="n">OmegaRatio</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="n">Cl_opt</span>     <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="n">H_opt</span>      <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;height of aircraft&#39;</span><span class="p">)</span>

    <span class="n">TWire_opt</span>  <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">)</span>

    <span class="n">vw_opt</span>     <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;wind velocity&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ConfigWind</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

        <span class="c"># use optimizer provided values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Omega</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Omega_opt</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">OmegaRatio</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="mf">3.</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Cl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Cl_opt</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_opt</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">zWire</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">TWire</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">TWire_opt</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">vw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vw_opt</span>

        <span class="c"># FIXME: the following two flags are ignored</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">FreeWake</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c"># momentum theory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">AeroStr</span>  <span class="o">=</span> <span class="mi">0</span>  <span class="c"># assume flat wing (no deformation)</span>


<span class="k">class</span> <span class="nc">AeroStructuralWind</span><span class="p">(</span><span class="n">AeroStructural</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; AeroStructural assembly for wind case in multipoint optimization &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AeroStructuralWind</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>

        <span class="c"># replace config with optimizer driven config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;config&#39;</span><span class="p">,</span> <span class="n">ConfigWind</span><span class="p">())</span>

        <span class="c"># create passthroughs for variables used by the optimizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.Omega_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.OmegaRatio&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.Cl_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.H_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.TWire_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.vw_opt&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;struc.Mtot&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;results.Ttot&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;results.Ptot&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, the gravity design point:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ConfigGravity</span><span class="p">(</span><span class="n">AtlasConfiguration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Atlas configuration for gravity case &quot;&quot;&quot;</span>

    <span class="n">Omega_opt</span>  <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;rotor angular velocity&#39;</span><span class="p">)</span>
    <span class="n">OmegaRatio</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="n">Cl_opt</span>     <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="n">H_opt</span>      <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;height of aircraft&#39;</span><span class="p">)</span>

    <span class="n">TWire_opt</span>  <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ConfigGravity</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

        <span class="c"># use optimizer provided values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Omega</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Omega_opt</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">OmegaRatio</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="mf">3.</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Cl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Cl_opt</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_opt</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">zWire</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">TWire</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">TWire_opt</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">Load</span>     <span class="o">=</span> <span class="mi">1</span>  <span class="c"># gravity and wire forces only</span>


<span class="k">class</span> <span class="nc">AeroStructuralGravity</span><span class="p">(</span><span class="n">AeroStructural</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; AeroStructural assembly for gravity case in multipoint optimization &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AeroStructuralGravity</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>

        <span class="c"># replace config with optimizer driven config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;config&#39;</span><span class="p">,</span> <span class="n">ConfigGravity</span><span class="p">())</span>

        <span class="c"># create passthroughs for variables used by the optimizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.Omega_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.OmegaRatio&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.Cl_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.H_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;config.TWire_opt&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;struc.Mtot&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;results.Ttot&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;results.Ptot&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, these 4 design points are assembled together. Parameterizations of
each design point are exposed as input variables. Summary outputs are exposed
using passthroughs.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Multipoint</span><span class="p">(</span><span class="n">Assembly</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Assembly for multipoint AeroStructural optimization.</span>

<span class="sd">        Evaluates AeroStructural for four cases:</span>
<span class="sd">            low altitude</span>
<span class="sd">            high altitude</span>
<span class="sd">            wind</span>
<span class="sd">            gravity only</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c"># configuration inputs</span>
    <span class="n">alt_low</span>    <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;low altitude&#39;</span><span class="p">)</span>
    <span class="n">alt_high</span>   <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;high altitude&#39;</span><span class="p">)</span>
    <span class="n">alt_ratio</span>  <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;proportion of time near ground&#39;</span><span class="p">)</span>

    <span class="n">TWire_high</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>
    <span class="n">TWire_wind</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>
    <span class="n">TWire_grav</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="n">OmegaRatio</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="n">vw</span>         <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;wind velocity&#39;</span><span class="p">)</span>

    <span class="n">Cl_max</span>     <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="c"># optimizer parameters</span>
    <span class="n">Omega_low</span>  <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;rotor angular velocity, low altitude&#39;</span><span class="p">)</span>
    <span class="n">Omega_high</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;rotor angular velocity, high altitude&#39;</span><span class="p">)</span>
    <span class="n">Cl0_high</span>   <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>
    <span class="n">Cl1_high</span>   <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;in&#39;</span><span class="p">)</span>

    <span class="c"># outputs</span>
    <span class="n">P</span>          <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="n">iotype</span><span class="o">=</span><span class="s">&#39;out&#39;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># low altitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;low&#39;</span><span class="p">,</span> <span class="n">AeroStructuralLow</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;Omega_low&#39;</span><span class="p">,</span> <span class="s">&#39;low.Omega_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;alt_low&#39;</span><span class="p">,</span>   <span class="s">&#39;low.H_opt&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;low.Mtot&#39;</span><span class="p">,</span> <span class="s">&#39;Mtot_low&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;low.Ttot&#39;</span><span class="p">,</span> <span class="s">&#39;Ttot_low&#39;</span><span class="p">)</span>

        <span class="c"># high altitude</span>
        <span class="c"># need a different rotor speed and lift distribution at altitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;high&#39;</span><span class="p">,</span> <span class="n">AeroStructuralHigh</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;Omega_high&#39;</span><span class="p">,</span> <span class="s">&#39;high.Omega_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;Cl0_high&#39;</span><span class="p">,</span>   <span class="s">&#39;high.Cl0_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;Cl1_high&#39;</span><span class="p">,</span>   <span class="s">&#39;high.Cl1_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;alt_high&#39;</span><span class="p">,</span>   <span class="s">&#39;high.H_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;TWire_high&#39;</span><span class="p">,</span> <span class="s">&#39;high.TWire_opt&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;high.Mtot&#39;</span><span class="p">,</span> <span class="s">&#39;Mtot_high&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_passthrough</span><span class="p">(</span><span class="s">&#39;high.Ttot&#39;</span><span class="p">,</span> <span class="s">&#39;Ttot_high&#39;</span><span class="p">)</span>

        <span class="c"># wind case</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;wind&#39;</span><span class="p">,</span> <span class="n">AeroStructuralWind</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;Omega_high&#39;</span><span class="p">,</span> <span class="s">&#39;wind.Omega_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;OmegaRatio&#39;</span><span class="p">,</span> <span class="s">&#39;wind.OmegaRatio&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;Cl_max&#39;</span><span class="p">,</span>     <span class="s">&#39;wind.Cl_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;alt_high&#39;</span><span class="p">,</span>   <span class="s">&#39;wind.H_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;TWire_wind&#39;</span><span class="p">,</span> <span class="s">&#39;wind.TWire_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;vw&#39;</span><span class="p">,</span>         <span class="s">&#39;wind.vw_opt&#39;</span><span class="p">)</span>

        <span class="c"># gravity case</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;grav&#39;</span><span class="p">,</span> <span class="n">AeroStructuralGravity</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;Omega_high&#39;</span><span class="p">,</span> <span class="s">&#39;grav.Omega_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;OmegaRatio&#39;</span><span class="p">,</span> <span class="s">&#39;grav.OmegaRatio&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;Cl_max&#39;</span><span class="p">,</span>     <span class="s">&#39;grav.Cl_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;alt_high&#39;</span><span class="p">,</span>   <span class="s">&#39;grav.H_opt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;TWire_grav&#39;</span><span class="p">,</span> <span class="s">&#39;grav.TWire_opt&#39;</span><span class="p">)</span>

        <span class="c"># total power</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;alt_ratio*low.Ptot + (1 - alt_ratio)*high.Ptot&#39;</span><span class="p">,</span> <span class="s">&#39;P&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">add</span><span class="p">([</span><span class="s">&#39;low&#39;</span><span class="p">,</span> <span class="s">&#39;high&#39;</span><span class="p">,</span> <span class="s">&#39;wind&#39;</span><span class="p">,</span> <span class="s">&#39;grav&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Finally, the multipoint optimization is set up to operate on an instance of
the Multipoint assembly, with parameters for each of the 4 design cases being set.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">HeliOptM</span><span class="p">(</span><span class="n">Assembly</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Multipoint aero-structural optimization &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># add an optimizer and a multi-point AeroStructural assembly</span>
        <span class="k">if</span> <span class="n">pyopt_driver</span> <span class="ow">and</span> <span class="s">&#39;SNOPT&#39;</span> <span class="ow">in</span> <span class="n">pyopt_driver</span><span class="o">.</span><span class="n">_check_imports</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;driver&quot;</span><span class="p">,</span> <span class="n">pyopt_driver</span><span class="o">.</span><span class="n">pyOptDriver</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">optimizer</span> <span class="o">=</span> <span class="s">&quot;SNOPT&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
                <span class="c"># any changes to default SNOPT options?</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&#39;SNOPT not available, using SLSQP&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;driver&#39;</span><span class="p">,</span> <span class="n">SLSQPdriver</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;mp&#39;</span><span class="p">,</span> <span class="n">Multipoint</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">alt_low</span> <span class="o">=</span> <span class="mf">0.5</span>         <span class="c"># low altitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">alt_high</span> <span class="o">=</span> <span class="mf">3.5</span>        <span class="c"># high altitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">alt_ratio</span> <span class="o">=</span> <span class="mf">35.</span><span class="o">/</span><span class="mf">60.</span>   <span class="c"># proportion of time near ground</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">TWire_high</span> <span class="o">=</span> <span class="mi">900</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">TWire_wind</span> <span class="o">=</span> <span class="mi">2100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">TWire_grav</span> <span class="o">=</span> <span class="mi">110</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">OmegaRatio</span>  <span class="o">=</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">vw</span> <span class="o">=</span> <span class="mi">0</span><span class="o">/</span><span class="mf">3.6</span>   <span class="c"># zero</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Cl_max</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">1.35</span><span class="p">,</span> <span class="mf">1.55</span><span class="p">]</span>    <span class="c"># max control</span>

        <span class="c"># objective: minimize total power</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s">&#39;mp.P&#39;</span><span class="p">)</span>

        <span class="c"># parameter: rotor speed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s">&#39;mp.Omega_low&#39;</span><span class="p">,</span>
                                  <span class="n">low</span><span class="o">=</span><span class="mf">0.15</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mf">0.25</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Omega_low</span> <span class="o">=</span> <span class="mf">0.20</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span>  <span class="c"># initial value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s">&#39;mp.Omega_high&#39;</span><span class="p">,</span>
                                  <span class="n">low</span><span class="o">=</span><span class="mf">0.15</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mf">0.19</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Omega_high</span> <span class="o">=</span> <span class="mf">0.17</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span>  <span class="c"># initial value</span>

        <span class="c"># parameter: lift distribution at high altitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s">&#39;mp.Cl0_high&#39;</span><span class="p">,</span>
                                  <span class="n">low</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mf">1.4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Cl0_high</span> <span class="o">=</span> <span class="mf">1.</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s">&#39;mp.Cl1_high&#39;</span><span class="p">,</span>
                                  <span class="n">low</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mf">1.3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Cl1_high</span> <span class="o">=</span> <span class="mf">1.</span>

        <span class="c"># constraint: lift &gt;= weight</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s">&#39;mp.Mtot_low*9.8-mp.Ttot_low&lt;=0&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s">&#39;mp.Mtot_high*9.8-mp.Ttot_high&lt;=0&#39;</span><span class="p">)</span>

        <span class="c"># TODO: optional constraints</span>
        <span class="c">#    if flags.ConFail:</span>
        <span class="c">#       Structural Failure in Rotor Spar (ConFail)</span>
        <span class="c">#       Buckling failure of spar (ConFailBuck)</span>
        <span class="c">#       Tensile failure in wire (ConFailWire)</span>
        <span class="c">#</span>
        <span class="c">#    if flags.ConDef:</span>
        <span class="c">#       Constraints on Maximum Deformation (ConDelta)</span>
        <span class="c">#</span>
        <span class="c">#    if flags.MultiPoint &amp;&amp; flags.ConJigCont:</span>
        <span class="c">#       Consistent jig twist (ConAlphaJig)</span>
        <span class="c">#</span>
        <span class="c">#    if flags.MultiPoint &amp;&amp; flags.ConWireCont</span>
        <span class="c">#       Wire stretch consistency (conWire)</span>

        <span class="c"># Optimization Constraints  (not used... yet)</span>
        <span class="n">vrCon</span> <span class="o">=</span> <span class="n">VariableTree</span><span class="p">()</span>
        <span class="n">vrCon</span><span class="o">.</span><span class="n">MaxDelta</span>    <span class="o">=</span> <span class="o">-</span><span class="mf">0.1</span>
        <span class="n">vrCon</span><span class="o">.</span><span class="n">MinDelta</span>    <span class="o">=</span> <span class="mf">0.1</span>
        <span class="n">vrCon</span><span class="o">.</span><span class="n">FOSmat</span>      <span class="o">=</span> <span class="mf">0.55</span>    <span class="c"># 1.3</span>
        <span class="n">vrCon</span><span class="o">.</span><span class="n">FOSbuck</span>     <span class="o">=</span> <span class="mf">0.5</span>     <span class="c"># 1.3</span>
        <span class="n">vrCon</span><span class="o">.</span><span class="n">FOSquadbuck</span> <span class="o">=</span> <span class="mf">5.</span>
        <span class="n">vrCon</span><span class="o">.</span><span class="n">FOStorbuck</span>  <span class="o">=</span> <span class="mf">0.5</span>     <span class="c"># 1.5</span>
        <span class="n">vrCon</span><span class="o">.</span><span class="n">FOSwire</span>     <span class="o">=</span> <span class="mf">0.5</span>     <span class="c"># 2</span>
</pre></div>
</div>
<p>This can be run similar to the single-point optimization:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">opt</span> <span class="o">=</span> <span class="n">set_as_top</span><span class="p">(</span><span class="n">HeliOptM</span><span class="p">())</span>

<span class="k">print</span> <span class="s">&#39;Starting multipoint optimization at </span><span class="si">%s</span><span class="s"> ...&#39;</span> <span class="o">%</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%X</span><span class="s">&#39;</span><span class="p">)</span>
<span class="n">time1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">opt</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">time2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&#39;Optimization complete at </span><span class="si">%s</span><span class="s"> (elapsed time: </span><span class="si">%5.2f</span><span class="s"> minutes)&#39;</span> \
    <span class="o">%</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%X</span><span class="s">&#39;</span><span class="p">),</span> <span class="p">((</span><span class="n">time2</span><span class="o">-</span><span class="n">time1</span><span class="p">)</span><span class="o">/</span><span class="mi">60</span><span class="p">))</span>

<span class="k">print</span>

<span class="k">print</span> <span class="s">&#39;Objective:  P =&#39;</span><span class="p">,</span> <span class="n">opt</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">P</span>

<span class="k">print</span> <span class="s">&#39;Constraint: Low Weight-Lift =&#39;</span><span class="p">,</span>  <span class="n">opt</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Mtot_low</span><span class="o">*</span><span class="mf">9.8</span><span class="o">-</span><span class="n">opt</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Ttot_low</span>
<span class="k">print</span> <span class="s">&#39;Constraint: High Weight-Lift =&#39;</span><span class="p">,</span> <span class="n">opt</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Mtot_high</span><span class="o">*</span><span class="mf">9.8</span><span class="o">-</span><span class="n">opt</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Ttot_high</span>

<span class="k">print</span> <span class="s">&#39;Parameter:  Omega (Low) =&#39;</span><span class="p">,</span>  <span class="n">opt</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Omega_low</span>
<span class="k">print</span> <span class="s">&#39;Parameter:  Omega (High) =&#39;</span><span class="p">,</span> <span class="n">opt</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">Omega_high</span>
</pre></div>
</div>
<p>The multipoint optimization can be peformed by running the <cite>heli_opt_multipoint.py</cite>
file located in the &#8220;examples&#8221; directory.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="running.html"
                        title="previous chapter">Running the Atlas model (Single Design Point)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="srcdocs.html"
                        title="next chapter">Source Documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/running_multi.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="srcdocs.html" title="Source Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="running.html" title="Running the Atlas model (Single Design Point)"
             >previous</a> |</li>
        <li><a href="index.html">Atlas 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright .
      Last updated on Aug 18, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>